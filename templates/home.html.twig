{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} &raquo; Accueil{% endblock %}

{% block body %}
    {% if app.user %}
        <div class="row">
            <h1 class="col-10">
                Pokédex de {{ app.user.nickname }}
                {% if completion != 0 %}
                    ({{ completion }}% de complétion)
                {% endif %}
            </h1>
            <p class="col-2"><a href="{{ path('app_pokedex_create') }}" class="btn btn-success">Créer un nouveau pokédex</a></p>
        </div>

        {% for pokedex in user_pokedex %}
            <p>
                <span style="width: 20%;display:inline-block">
                    <span class="progress" role="progressbar" aria-label="Dex's Progress"
                         aria-valuenow="{{ pokedex.pokemonCaughtPerCent }}" aria-valuemin="0" aria-valuemax="100">
                        <span class="progress-bar" style="width: {{ pokedex.pokemonCaughtPerCent }}%"></span>
                    </span>
                </span>
                <a href="{{ path('app_pokedex_view', {id: pokedex.id}) }}">{{ pokedex.name }}</a>
            </p>
        {% endfor %}

    {% else %}
        <a href="{{ path('app_login') }}" class="btn btn-primary">Connexion</a>
    {% endif %}
{% endblock %}
